<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<title>Characters in Absalom, Absalom!</title>
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<!-- JS Packages -->
	<script src="https://code.jquery.com/jquery-3.6.0.min.js"
			integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4="
			crossorigin="anonymous"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery-csv/0.71/jquery.csv-0.71.min.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3"></script>
	<script src="https://cdn.plot.ly/plotly-2.12.1.min.js"></script>
	<!--Chart Objects-->

	<script src="https://unpkg.com/d3@5.9.1/dist/d3.min.js"></script>
	<script src="js/scrollama.min.js"></script>
	<!--<script src="js/charts.js"></script>-->
	<script src="js/character_charts.js"></script>
	<!-- Stylesheets -->
	<link rel="stylesheet" href="css/style.css" />
	<link rel="stylesheet" href="css/scroll.css" />
	<link rel="stylesheet" href="css/responsive.css" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
	<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.3/font/bootstrap-icons.css">
	<style>
		html, body {
			background-color: #222831;
		}
	</style>



</head>

<body>
	<main>
		<header class="sticky-top">
			<nav class="navbar navbar-expand-lg navbar-dark">

			  <div class="container-fluid">
				<em><a style = "color: #B55400;"class="navbar-brand" href="index.html">Absalom, Absalom!</a></em>
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarColor02" aria-controls="navbarColor02" aria-expanded="false" aria-label="Toggle navigation">
				  <span class="navbar-toggler-icon"></span>
				</button>
			
				<div class="collapse navbar-collapse" id="navbarColor02">
				  <ul class="navbar-nav me-auto">
					<li class="nav-item">
					  <a class="nav-link" href="characters.html">Characters</a>
					</li>
					<li class="nav-item">
					  <a class="nav-link" href="events.html">Events</a>
					</li>
					<li class="nav-item">
					  <a class="nav-link" href="language.html">Language</a>
					</li>
				  </ul>
					</div>
				  </div>
			</nav>
		</header>
		<!-- Title Slide BEGINS-->
		<section id="intro">
			<div style="background-color:#B55400">
				<h2 class="title" style="color: #222831; padding-top: 6%;">Digital Supplement:</h2>
				<h1 class="title" style="color: #FFF;">Absalom, Absalom!</h1>
				<h1 class="title" style="color: #222831;">and The Digital Humanities</h1>
				<p class="title-p-text" style="color: #13171c;">
					This interactive essay was created using data from the <a style = "color: #13171c;"href="http://faulkner.iath.virginia.edu/">Digital Yoknapatawpha</a> Database. It serves as a supplement to the long-form essay available in the Norton Critical Edition of Absalom, Absalom!. It includes visualizations that are not possible to represent in print, and also functions as a standalone essay that explores Absalom, Absalom! along three different axes: Characters, Events, and Language.
				</p>
			</div>
			<!-- Title Slide ENDS-->
			<!-- Pre Scroll Text BEGINS-->
			<div class="notebook">
				<h1 style="text-align: center; padding: 0; color: #EEE;">Characters</h1>
				<div class = "divider-h"></div>
				<h2 style="text-align: center; padding: 0; color: #B55400;">“money, a house, a plantation, slaves, a family — incidentally of course, a wife”</h2>
				<p class="notebook">
					The <i>Digital Yoknapatawpha</i> database contains every character who appears in Faulkner’s Yoknapatawpha fictions.
					Each character has a set of attribute information, including their race, class, gender, number, rank, and vitality.
					With this information, we can make a literary demography of the composition of the entire character population.					
					<br><br><br>
					One of the most salient pieces of demographic information in <i>Absalom, Absalom!</i> is its racial composition. The novel powerfully captures the Southern system of racial oppression that started with the enslavement of Africans before the Civil War and continued through "Jim Crow" segretation laws after the Emancipation Proclamation. This long history of racial separation and its codification into explicit laws and implicit social practices, made race appear as a real and fundamental difference between people, even, if it was entirely socially constructed. Speaking of race in America more generally, Toni Morrison remarks that, "As a reader you have been forced to hunt for a drop of black blood that means everything and nothing. The insanity of racism."
				</p>
				</div>
				<div class="full-image">
					<img src="media\images\whites_only_restroom_slim.png" style="width: 100vw; height:auto" />
					<div class="full-image-text-low">
							<blockquote>
								<p class="mb-0">
									As a reader you have been forced to hunt for a drop of black blood that means everything and nothing.
									<br>
									The insanity of racism.
								</p>
							</blockquote>
							<figcaption class="blockquote-footer" style = "color: #13171c;">
								<cite title="Source Title">Toni Morrison, <em>Conversations</em></cite>
							</figcaption>
					</div>
					<p class="image-source">Dain, Martin J. "Oxford square, image 189." (1961). Archives and Special Collections, University of Mississippi Libraries.</p>
				</div>
				<div class="divider-h" style="background-color: #222831;height: 40px;"></div>
				<!-- <canvas id = "race-hierarchy-map"></canvas> -->
				<div class = "notebook">
                <p class="notebook" style="padding-bottom: 0; margin-bottom: auto; color: #EEE;">
                    Faulkner questions the difference between people based on race by suggesting that Charles Bon could be both brother and other to Judith and Henry Sutpen. This troubling of racial categories is visible in the character breakdown of the novel. There are 194 unique characters in <i>Absalom, Absalom!</i>. These characters can in turn be grouped by race. Doing so creates a raw demographic total for each group. This indicates the relative percentage of each racial group of the entire cast of characters. Notably, this breakdown does not take into account how often characters occur. By calculating how often characters of a particular race occur in an event across the novel, we can capture how present they are in the novel. If <i>Absalom, Absalom!</i> were a movie, this would be the relative screen-time dedicated to each racial group.
                </p>
			</div>
		</section>
		<!-- Pre Scroll Text ENDS-->
		<!-- Scroll Text BEGINS -->
		<section id="scrolly" style="background-color: #222831;">
			<div class="scrolldiv">
				<article>
					<div class="step" data-step="1">
						<p class="scroll-text">
							There are important differences between the raw demographic total and the weighted demographic presence.
						</p>
					</div>
					<div class="step" data-step="2">
						<p class="scroll-text">
							Weighting by narrative presence actually reveals that White characters are over-represented. They only constitute x percentage of the total characters, but are present in y percentage of events.
						</p>
					</div>
					<div class="step" data-step="3">
						<p class="scroll-text">
							Likewise, the number of Mixed Ancestry characters increases.
						</p>
					</div>
					<div class="step" data-step="4">
						<p class="scroll-text">
							But only because Black characters are less present.
						</p>
					</div>
				</article>
				
				<div class="fig">
					<!-- Scroll Chart BEGINS -->
					
					<div class="chartdiv">
						<h1 class="charttitle">Raw Demographic Total</h1>
						<canvas id="scrollychart1"></canvas>
					</div>

					<div class="chartdiv">
						<h1 class="charttitle">Weighted Demographic Presence</h1>
						<canvas id="scrollychart2"></canvas>
					</div>
					
					<div>
						<div id="legend"></div>
					</div>					
					
					
	<!-- Scroll Chart ENDS -->
				</div>
				
			</div>
			
		</section>
		<div class="divider-h" style="background-color: #222831;height: 50px;"></div>
		<div class="notebook">
			<p class="notebook">
				The data suggest that while Absalom, Absalom! is concerned with the ‘color line’, it is decidedly from a White perspective. <br><br>
				Race and racial passing is only conceived in how it might trouble Whiteness and not how it might affect the Black community.
			</p>
			<p class="notebook">
				Charles Bon is more present in the text than all other Mixed Ancestry characters combined, but is simply another major character compared to the White characters.
			</p>
			<div class="chartdiv">
				<div id="sunburst"></div>
			</div>
			
			<p class="notebook">Meanwhile, the most present Black characters are the unnamed enslaved characters.</p>
			<p class="notebook">
				It is clear from reading Absalom, Absalom! that the novel is about Charles Bon’s potential transgression across the ‘color line.’ The data reveal that the novel attends to this issue from a predominantly White perspective, and at the exclusion of all other non-white characters.
				The various narrators only really care about racial passing if it threatens upper class white femininity. <br><br><br>
			</p>

			<p class="notebook">
				As such, they naturalize racial difference, and also circumscribe the boundaries of gender, sexuality, and class.
				In the highly fraught social circumstances of the pre-Civil Rights South, there is no way to separate race, class, gender, and sexuality.<br><br><br>
				The data suggest that while Absalom, Absalom! is concerned with the ‘color line’, it is decidedly from a White perspective.
				Race and racial passing is only conceived in how it might trouble Whiteness and not how it might affect the Black community.
			</p>
			<div id="legend"></div>
		</div>
		

		<!-- Scroll Text ENDS -->
		<!-- Footer -->
		<!-- Remove the container if you want to extend the Footer to full width. -->
		<div class="container my-5" style="color: #B55400;">

			<footer class="text-center text-white" style="background-color: #f1f1f1;"></footer>

		</div>
		<!-- Grid container -->
		<!-- Copyright -->

		
	</main>
	<!-- Scroll Packages BEGIN -->
	
	<!-- Scroll Packages END -->

	<script>

</script>
	
	<!-- JavaScript Bundle with Popper -->
	<!--<script src="js/charts.js"></script>-->
	<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
	<footer>
		<div class="footer-clean">
			<div class="container">
					<div class="row justify-content-center">
						<div class="col-sm-3 item">
							<h3>About DY</h3>
							<ul>
								<li>A Collaboration between an International Team of Faulkner Scholars
									and Technologists at the University of Virginia
									Major Funding provided by the National Endowment for the Humanities</li>
							</ul>
						</div>
						<div class="col-sm-3 item">
							<h3>Quick Links</h3>
							<ul>
								<li><a href="http://faulkner.iath.virginia.edu/">Digital Yoknapatawpha</a></li>
								<li><a href="http://www.iath.virginia.edu/">IATH Virginia</a></li>
								<li><a href="http://faulkner.iath.virginia.edu/family/credits.php">DY Contributors</a></li>
							</ul>
						</div>
						<div class="col-lg-3 item social">
							<a href="https://www.instagram.com/digyok/"><i class="bi bi-instagram"></i></a>
							<a href="https://www.facebook.com/digyok/"><i class="bi bi-facebook"></i></a>
							<a href="https://twitter.com/digyok"><i class="bi bi-twitter"></i></a>
							<p class="copyright">Digital Yoknapatawpha, University of Virginia © 2022</p>
						</div>
					</div>
				</div>
			</div>
	</footer>

<script>

        function makeplot() {
            var data;
            $.ajax({
                type: "GET",
                url: "https://raw.githubusercontent.com/arundhatibala/absalom/main/data/sunburst_export.csv",
                dataType: "text",
                success: function (response) {
                    data = $.csv.toObjects(response, { headers: true });
                    processData(data);
                }
            });
        };

        function processData(allRows) {

            console.log(allRows);
            console.log(allRows.length)
            var labels = []
            var values = []
            var parents = []
			var ids = [];
			var percent = [];
			var race = [];

            for (var i = 0; i < allRows.length; i++) {
                row = allRows[i];
                labels.push(row['labels']);
                values.push(row['values']);
				parents.push(row['parents']);
				ids.push(row['ids']);
				percent.push(row['percent']);
				race.push(row['race']);
               
			}
            console.log("Labels = ", labels, "Values =", values, "Parents = ", parents, "Ids =", ids);
            makePlotly(labels, values, parents, ids, percent, race);
        }

        function makePlotly(labels, values, parents, ids, percent, race) {
			var hovervariables = [percent, race]
			


			var data = [{
                type: "sunburst",
                labels: labels,
                parents: parents,
                values: values,
				ids: ids,
				customdata: percent,
		        outsidetextfont: { size: 20, color: "#377eb8" },
                leaf: { opacity: 0.7 },
				marker: { line: { width: 2 } },
                hovertemplate: '%{customdata}%<extra></extra>'
            }];

            var layout = {
                margin: { l: 0, r: 0, b: 0, t: 0 },
                plot_bgcolor:"#222831",
      			paper_bgcolor:"#222831", 
				font: {
    			size: 12,
    			color: '#eee'
  }
			};

			var config = {responsive: true}


            Plotly.newPlot('sunburst', data, layout, config);


        };
        makeplot();
	</script>

</body>


</html>
