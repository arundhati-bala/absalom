<!DOCTYPE html>
<html>

<head>
	<meta charset="utf-8" />
	<meta http-equiv="X-UA-Compatible" content="IE=edge" />
	<title>Characters in Absalom, Absalom!</title>
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-chart-treemap@0.2.3"></script>

	<!-- Stylesheets -->
	<link rel="stylesheet" href="style.css" />
	<link rel="stylesheet" href="scroll.css" />
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.3/font/bootstrap-icons.css">
	<style>
		html, body {
			background-color: #222831;
		}
	</style>
</head>

<body>
	<main>
		<header class="sticky-top">
			<nav class="navbar navbar-expand-lg navbar-dark">
			  <div class="container-fluid">
				<em><a style = "color: #B55400;"class="navbar-brand" href="home.html">Absalom, Absalom!</a></em>
				<button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarColor02" aria-controls="navbarColor02" aria-expanded="false" aria-label="Toggle navigation">
				  <span class="navbar-toggler-icon"></span>
				</button>
			
				<div class="collapse navbar-collapse" id="navbarColor02">
				  <ul class="navbar-nav me-auto">
					<li class="nav-item">
					  <a class="nav-link" href="characters.html">Characters</a>
					</li>
					<li class="nav-item">
					  <a class="nav-link" href="events.html">Events</a>
					</li>
					<li class="nav-item">
					  <a class="nav-link" href="language.html">Language</a>
					</li>
					<li class="nav-item">
						<a class="nav-link" href="locations.html">Locations</a>
					  </li>
				  </ul>
				</div>
			  </div>
			</nav>
			</header>
			<!-- Title Slide BEGINS-->
		<section id="intro">
			<div style = "background-color:#B55400">
				<h2 class = "title" style = "color: #222831; padding-top: 6%;">Digital Supplement:</h2>
				<em><h1 class = "title" style = "color: #FFF;">Absalom, Absalom!</h1></em>
				<em><h1 class = "title" style = "color: #222831;">and The Digital Humanities</h1></em>
				<p class = "title-p-text" style = "color: #13171c;">
					This interactive essay was created using data from the <a style = "color: #13171c;"href="http://faulkner.iath.virginia.edu/">Digital Yoknapatawpha</a> Database. It serves as a supplement to the long-form essay available in the Norton Critical Edition of Absalom, Absalom!. It includes visualizations that are not possible to represent in print, and also functions as a standalone essay that explores Absalom, Absalom! along three different axes: Characters, Events, Language, and Locations.				</p>
			  </div>
			<!-- Title Slide ENDS-->

			<!-- Pre Scroll Text BEGINS-->
			  <div class = "notebook">
				<h1 style = "text-align: center; padding: 0; color: #EEE;">Characters</h1>
				<p class = "notebook" style = "color:#EEE;">
				The Digital Yoknapatawpha database contains every character who appears in Faulkner’s Yoknapatawpha fictions.
				Each character has a set of attribute information, including their race, class, gender, number, rank, and vitality.
				With this information, we can make a literary demography of the composition of the entire character population.
				One of the most salient pieces of demographic information in Absalom, Absalom! is race.
				</p>
				<div class = "quote">
				  <blockquote class="blockquote">
					<p class="mb-0">As a reader you have been forced to hunt for a drop of black blood that means everything and nothing.
					  <br> 
					  The insanity of racism.</p>
				  </blockquote>
				  <figcaption class="blockquote-footer"><cite title="Source Title">Toni Morrison, <em>Conversations</em></cite>
				  </figcaption>
				</div>
				<div class = "divider-h" style ="background-color: #222831;height: 40px;"></div>
					<!-- <canvas id = "race-hierarchy-map"></canvas> -->
					<div class = "blockchart">
						<canvas id = "racechart"></canvas>
					</div>
				<p class = "notebook" style = "padding-bottom: 0; margin-bottom: auto; color: #EEE;">
					There are 194 unique characters in Absalom, Absalom!. The overwhelming majority of these characters are White.
					<br><br>
					Statistically speaking, there is only one Moor in Shakespeare’s Othello, but as he appears in nearly every scene he is one of the most present characters.
					<br>
					We can weight for character presence by calculating how often they occur in an event.</p>				
				</section>
				<!-- Pre Scroll Text ENDS-->


				<!-- Scroll Text BEGINS -->
		<section id="scrolly" style = "background-color: #222831;">
			<article>
				<div class="step" data-step="1">
					<p class = "scroll-text">
						Weighting by narrative presence actually underscores the presence of White characters more.
					</p>
				</div>
				<div class="step" data-step="2">
					<p class = "scroll-text">
						Weighting by narrative presence actually underscores the presence of White characters more.
					</p>
				</div>
				<div class="step" data-step="3">
					<p class = "scroll-text">
						Meanwhile, the number of Mixed Ancestry characters increases.					</p>
				</div>
				<div class="step" data-step="4">
					<p class = "scroll-text">
						But only because Black characters are less present.
					</p>
				</div>
			</article>
			<figure> 
				<!-- Scroll Chart BEGINS -->
					<canvas id="scrollychart" style = "height: 200px;"></canvas>
				<!-- Scroll Chart ENDS -->
			</figure>
		</section>
		<div class = "divider-h" style ="background-color: #222831;height: 50px;"></div>
		<div class = "notebook">
			<p class = "notebook">
				The data suggest that while Absalom, Absalom! is concerned with the ‘color line’, it is decidedly from a White perspective. <br><br>
				Race and racial passing is only conceived in how it might trouble Whiteness and not how it might affect the Black community.
	  		</p>
			  <div class = "blockchart">
				<canvas id="racechart2"></canvas>
				</div>
			  <p class = "notebook">
		  It is clear from reading Absalom, Absalom! that the novel is about Charles Bon’s potential transgression across the ‘color line.’ The data reveal that the novel attends to this issue from a predominantly White perspective, and at the exclusion of all other non-white characters.
		  The various narrators only really care about racial passing if it threatens upper class white femininity. <br><br><br>
		  As such, they naturalize racial difference, and also circumscribe the boundaries of gender, sexuality, and class.
		  In the highly fraught social circumstances of the pre-Civil Rights South, there is no way to separate race, class, gender, and sexuality.<br><br><br>
		  The data suggest that while Absalom, Absalom! is concerned with the ‘color line’, it is decidedly from a White perspective.
		  Race and racial passing is only conceived in how it might trouble Whiteness and not how it might affect the Black community.
		</p>
		</div>
		</div>

		<!-- Scroll Text ENDS -->
		  <!-- Footer -->
		  <!-- Remove the container if you want to extend the Footer to full width. -->
		  <div class="container my-5">
		  
			<footer class="text-center text-white" style="background-color: #f1f1f1;">
		  
			</div>
			<!-- Grid container -->
		  
			<!-- Copyright -->
			<div class="text-center text-light p-3" style="background-color: rgba(0, 0, 0, 0.2);">
			  © 2022 Copyright:
			  <a class="text-light" href="https://github.com/joostburgers">Johannes Burgers</a>
			</div>
			<!-- Copyright -->
		  </footer>
			
		  </div>
		  
	</main>
	<!-- Scroll Packages BEGIN -->
	<script src="https://unpkg.com/d3@5.9.1/dist/d3.min.js"></script>
	<script src="../scrollama.min.js"></script>
	<!-- Scroll Packages END -->

	<script>
		var main = d3.select("main");
		var scrolly = main.select("#scrolly");
		var figure = scrolly.select("figure");
		var article = scrolly.select("article");
		var step = article.selectAll(".step");

		// initialize the scrollama
		var scroller = scrollama();

		// generic window resize listener event
		function handleResize() {
			// update height of step elements
			var stepH = Math.floor(window.innerHeight * 0.75);
			step.style("height", stepH + "px");

			var figureHeight = window.innerHeight / 1.4;
			var figureMarginTop = (window.innerHeight - figureHeight) / 2;

			figure
				.style("height", figureHeight + "px")
				.style("top", figureMarginTop + "px");

			scroller.resize();

			window.onload = function() {
    		if ( window.orientation == 0 || window.orientation == 180 ) { 
        	alert ('Please use your mobile device in landscape mode'); 
    		}
};
		}

		// scrollama event handlers
		function handleStepEnter(response) {
			console.log(response.index);
			// response = { element, direction, index }


			step.classed("is-active", function (d, i) {
				return i === response.index;
			});

			// // update chart based on step
			// figure.select("p").text(response.index + 1);

			if(response.index==1){
    		scrollychart.data.datasets[0].data = [12, 19, 300, 5, 2, 3]
    		scrollychart.update()}
			if(response.index==2){
    		scrollychart.data.datasets[0].data = [49, 19, 300, 5, 2, 3]
    		scrollychart.update()}
			if(response.index==3){
    		scrollychart.data.datasets[0].data = [49, 19, 300, 5, 2, 38]
    		scrollychart.update()}
		}

		function setupStickyfill() {
			d3.selectAll(".sticky").each(function () {
				Stickyfill.add(this);
			});
		}

		function init() {
			setupStickyfill();

			// 1. force a resize on load to ensure proper dimensions are sent to scrollama
			handleResize();

			// 2. setup the scroller passing options
			// 		this will also initialize trigger observations
			// 3. bind scrollama event handlers (this can be chained like below)
			scroller
				.setup({
					step: "#scrolly article .step",
					offset: 0.33,
					debug: false
				})
				.onStepEnter(handleStepEnter);
		}

		// kick things off
		init();
	</script>
	<!-- JavaScript Bundle with Popper -->
<script src="https://public.flourish.studio/resources/embed.js"></script>
<script src = "charts.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
</body>

</html>